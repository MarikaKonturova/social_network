{"version":3,"sources":["components/Common/Preloader/Preloader.tsx","asets/images/loading.gif","components/Common/FormsControls/FormControls.tsx","components/Common/FormsControls/FormControls.module.css","utils/validators/Validator.tsx","components/Common/Paginator/Paginator.module.css","components/Header/Header.module.css","components/redux/profile-reducer.ts","components/redux/dialogs-reducer.ts","api/Api.ts","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","components/redux/user-reducer.ts","components/Common/Paginator/Paginator.tsx","asets/images/ava.png","components/Users/User.tsx","components/Users/Users.tsx","components/redux/users-selectores.tsx","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/LoginForm.tsx","components/Login/Login.tsx","components/redux/app-reducer.ts","components/redux/redux-store.ts","components/hoc/withSuspense.tsx","App.tsx","index.tsx"],"names":["Preloader","props","src","FormControl","hasError","meta","error","touched","className","s","formControl","children","Textarea","input","Input","module","exports","requiredField","value","undefined","maxLengthCreator","maxLength","length","composeValidators","validators","reduce","validator","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SET_USER_PHOTO","SET_PROFILE_DATAFORM_ERROR","addPostActionCreator","newPostText","type","setUserStatus","status","setProfileDataFormError","initialState","postsData","likes","message","id","profile","aboutMe","userId","lookingForAJob","lookingForAJobDescription","fullName","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","photos","small","large","errorDataForm","getUserProfile","dispatch","a","usersAPI","response","data","getUserStatus","profileAPI","updateUserStatus","updateStatus","resultCode","savePhoto","image","saveProfile","formData","getState","user","auth","messages","join","Promise","reject","profileReduser","state","action","newPost","sendmessageActionCreator","newMessageBody","sendmessage","dialogs","name","dialogsReduser","body","instance","axios","create","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","follow","post","unfollow","delete","put","FormData","append","authAPI","me","login","logout","securityAPI","getCaptchaURL","Navbar","classes","nav","item","to","activeClassName","active","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","acceptFollow","userID","acceptUnfollow","setCurrentPage","page","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","userReducer","map","u","followed","filter","count","Paginator","pagesCount","Math","ceil","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","selectedPage","e","onPageChanged","User","userPhoto","style","maxWidth","disabled","some","Users","getIsFetching","usersPage","getUsersSuperSelector","createSelector","gePageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersContainer","pageNumber","this","React","Component","compose","connect","bind","items","totalCount","Header","header","login_block","isAuth","SET_USER_DATA","GET_CAPTCHA_URL","SET_LOGIN_ERROR","email","appInitialized","loginError","captchaURL","setUserData","getAuthUserData","url","authReducer","HeaderContainer","LoginForm","captchaUrl","useSelector","onSubmit","render","handleSubmit","component","validate","placeholder","console","log","SET_INITIALIZED","initialized","rootReducer","combineReducers","profilePage","messagesPage","app","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledError","promiseRejectionEvent","alert","initializeApp","window","addEventListener","removeEventListener","path","AppContainer","withRouter","promise","all","then","SamuraiJSApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.034c06ba.chunk.js","sourcesContent":["import React from \"react\";\r\nimport loading from \"../../../asets/images/loading.gif\";\r\ntype Preloader = {\r\n    isFetching?: boolean\r\n}\r\nexport const Preloader=(props: Preloader)=>{\r\n   return <>\r\n        <img src = {loading}/></>\r\n\r\n        }","export default \"data:image/gif;base64,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\"","import React from \"react\";\r\nimport s from './FormControls.module.css'\r\n\r\n\r\nexport const FormControl = (props:any)=>{\r\n    const hasError =props.meta.error && props.meta.touched\r\n    return <div className={`${s.formControl} ${hasError && s.error}`}>\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        { hasError&& <span>{props.meta.error}</span> }\r\n    </div>\r\n}\r\n\r\n\r\nexport const Textarea = (props: any)=>{\r\n    return <FormControl {...props}><textarea {...props.input} {...props}/></FormControl>\r\n}\r\nexport const Input = (props: any)=>{\r\n    return <FormControl {...props}><input {...props.input} {...props}/></FormControl>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__KRzMM\",\"error\":\"FormControls_error__iW0DT\"};","import React from \"react\";\r\n\r\nexport const requiredField = (value: any) => {\r\n    return value? undefined : 'Field is required'\r\n}\r\nexport const maxLengthCreator = (maxLength: number) => (value: any)=>{\r\n    return  value.length<maxLength ? undefined : `Max length is ${maxLength} symbols`\r\n}\r\nexport const composeValidators = (...validators:any) => (value: any) =>\r\n    validators.reduce((error:string, validator:any) => error || validator(value), undefined)\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3UiCT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__17b_i\",\"login_block\":\"Header_login_block__KqmQP\"};","import {profileAPI, usersAPI} from \"../../api/Api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {getAuthUserData, setLoginError} from \"./auth-reducer\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE'\r\nconst SET_USER_STATUS = 'SET-USER-STATUS'\r\nconst SET_USER_PHOTO = 'SET-USER-PHOTO'\r\nconst SET_PROFILE_DATAFORM_ERROR = 'SET-PROFILE-DATAFORM-ERROR'\r\n\r\nexport const addPostActionCreator = (newPostText: string): addPostActionType => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    }\r\n}\r\nexport const setUserProfile = (profile: ProfileType): setUserProfileAT => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\nexport const setUserStatus = (status: string): setUserStatusAT => {\r\n    return {\r\n        type: SET_USER_STATUS,\r\n        status\r\n    }\r\n}\r\nexport const setUserPhoto = (photos: PhotosType): setUserPhotoAT => {\r\n    return {\r\n        type: SET_USER_PHOTO,\r\n        photos\r\n    }\r\n}\r\nexport const setProfileDataFormError = (error: null | string): setProfileDataFormErrorAT => {\r\n    return {\r\n        type: SET_PROFILE_DATAFORM_ERROR,\r\n        error\r\n    }\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: {\r\n        github: string\r\n        vk: string\r\n        facebook: string\r\n        instagram: string\r\n        twitter: string\r\n        website: string\r\n        youtube: string\r\n        mainLink: string\r\n    },\r\n    photos: PhotosType,\r\n}\r\nlet initialState = {\r\n    postsData: [\r\n        {likes: 12, message: 'Hi, how are you?', id: \"1\"},\r\n        {likes: 21, message: 'It\\'s my first post', id: \"2\"},\r\n        {likes: 3, message: 'Yo', id: \"3\"},\r\n        {likes: 4, message: 'Yo', id: \"4\"},\r\n        {likes: 5, message: 'Yo', id: \"5\"}\r\n    ],\r\n    newPostText: 'it-kamasutra',\r\n    profile: {\r\n        aboutMe: '',\r\n        userId: 2,\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: '',\r\n        fullName: '',\r\n        contacts: {\r\n            github: '',\r\n            vk: '',\r\n            facebook: '',\r\n            instagram: '',\r\n            twitter: '',\r\n            website: '',\r\n            youtube: '',\r\n            mainLink: ''\r\n        },\r\n        photos: {\r\n            small: '',\r\n            large: ''\r\n        }\r\n    },\r\n    status: '',\r\n    errorDataForm: null as null | string\r\n\r\n}\r\n\r\nconst profileReduser = (state: InitialState = initialState, action: ProfileActionTypes): InitialState => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: \"5\",\r\n                message: action.newPostText,\r\n                likes: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SET_USER_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        case SET_PROFILE_DATAFORM_ERROR: {\r\n            return {\r\n                ...state,\r\n                errorDataForm: action.error\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\nexport const getUserProfile = (userId: number) => async (dispatch: Dispatch) => {\r\n    const response = await usersAPI.getUserProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n\r\n}\r\nexport const getUserStatus = (userId: number) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.getUserStatus(userId)\r\n    dispatch(setUserStatus(response.data))\r\n\r\n}\r\nexport const updateUserStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserStatus(status))\r\n        }\r\n    } catch (e) {\r\n// dispatch server error or global error Handler in APP\r\n    }\r\n}\r\nexport const savePhoto = (image: string | Blob) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.savePhoto(image)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserPhoto(response.data.data.photos))\r\n    }\r\n}\r\nexport const saveProfile = (formData: ProfileType) => async (dispatch: ThunkDispatch<AppStateType, unknown, ProfileActionTypes>, getState: () => AppStateType) => {\r\n    await dispatch(setProfileDataFormError(null))\r\n    const user = getState().auth.data.id\r\n    const response = await profileAPI.saveProfile(formData)\r\n    if (response.data.resultCode === 0) {\r\n        await dispatch(getUserProfile(user as number))\r\n    } else {\r\n        const message = response.data.messages.length > 0 ? response.data.messages.join('\\n') : 'something is wrong'\r\n        await dispatch(setProfileDataFormError(message))\r\n        return Promise.reject(response.data.messages.join('\\n'))\r\n    }\r\n}\r\n\r\n//types\r\n\r\n\r\ntype addPostActionType = {\r\n    type: typeof ADD_POST,\r\n    newPostText: string\r\n}\r\ntype setUserProfileAT = {\r\n    type: typeof SET_USER_PROFILE\r\n    profile: ProfileType\r\n}\r\ntype setUserStatusAT = {\r\n    type: typeof SET_USER_STATUS\r\n    status: string\r\n}\r\ntype setUserPhotoAT = {\r\n    type: typeof SET_USER_PHOTO\r\n    photos: PhotosType\r\n}\r\ntype setProfileDataFormErrorAT = {\r\n    type: typeof SET_PROFILE_DATAFORM_ERROR\r\n    error: null | string\r\n}\r\ntype ProfileActionTypes =\r\n    setUserProfileAT\r\n    | addPostActionType\r\n    | setUserStatusAT\r\n    | setUserPhotoAT\r\n    | setProfileDataFormErrorAT\r\nexport type InitialState = typeof initialState;\r\n\r\nexport type PostType = { likes: number, message: string, id: string }\r\nexport type PhotosType = {\r\n    small: string,\r\n    large: string\r\n}\r\nexport default profileReduser;","type sendmessageActionType = {\r\n    type: typeof sendmessage,\r\n    newMessageBody: string\r\n}\r\ntype MessageActionTypes = sendmessageActionType\r\nexport const sendmessageActionCreator = (newMessageBody: string): sendmessageActionType => {\r\n    return {\r\n        type: sendmessage,\r\n        newMessageBody\r\n    }\r\n}\r\n\r\n\r\nconst sendmessage = \"SEND-MESSAGE\";\r\ntype InitialStateType = typeof initialState;\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Valera'}],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'}]\r\n}\r\n\r\nexport const dialogsReduser = (state: InitialStateType = initialState, action: MessageActionTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case sendmessage: {\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}],\r\n                dialogs: [...state.dialogs, {id: 6, name: 'who-to'}],\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default dialogsReduser;","import axios from \"axios\";\r\nimport {ProfileType} from \"../components/redux/profile-reducer\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n    headers: {\r\n        'API-KEY': \"9eb46dcc-1fbf-46b5-86df-7c031d84dc43\"\r\n    }\r\n});\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`/users?page=${currentPage}&count=${pageSize}`);\r\n    },\r\n    follow(id: number) {\r\n        return instance.post(`/follow/${id}`);\r\n    },\r\n    unfollow(id: number) {\r\n        return instance.delete(`/follow/${id}`);\r\n    },\r\n    getUserProfile(userId: number) {\r\n        return profileAPI.getUserProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId: number) {\r\n        return instance.get(`/profile/${userId}`)\r\n    },\r\n    getUserStatus(userId: number) {\r\n        return instance.get(`/profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`/profile/status`, {status})\r\n    },\r\n    savePhoto(image: string | Blob) {\r\n        const formData = new FormData();\r\n        formData.append('image', image)\r\n        return instance.put(`/profile/photo`, formData,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n    },\r\n    saveProfile(formData: ProfileType) {\r\n        return instance.put(`/profile`, formData)\r\n    }\r\n\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`/auth/me`)\r\n    },\r\n    login(data: LoginDataRequestType) {\r\n        return instance.post(`/auth/login`, data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`/auth/login`)\r\n    }\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return instance.get(`/security/get-captcha-url`)\r\n    }\r\n}\r\nexport type LoginDataRequestType = {\r\n    email: string\r\n    password: string\r\n    rememberMe?: boolean\r\n    captcha?: boolean\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2-4-A\",\"item\":\"Navbar_item__HbYev\",\"active\":\"Navbar_active__1dJwj\"};","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport classes from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n    // @ts-ignore\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${classes.item} ${classes.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n            </div>\r\n\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={classes.active}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>)\r\n\r\n}\r\nexport default Navbar;","import {usersAPI} from \"../../api/Api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET-USERS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_USERS_TOTAL_COUNT = 'SET-USERS-TOTAL-COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\n\r\ntype toggleIsFetchingAT = {\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n}\r\ntype toggleIsFollowingProgressAT = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\ntype setCurrentPageAT = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\ntype setUsersTotalCountAT = {\r\n    type: typeof SET_USERS_TOTAL_COUNT\r\n    count: number\r\n}\r\ntype followAT = {\r\n    type: typeof FOLLOW\r\n    userID: number\r\n}\r\ntype unfollowAT = {\r\n    type: typeof UNFOLLOW\r\n    userID: number\r\n}\r\ntype setUsersAT = {\r\n    type: typeof SET_USERS\r\n    users: UserType[]\r\n}\r\ntype UsersReducerAT = unfollowAT | followAT\r\n    | setUsersAT | setCurrentPageAT\r\n    | setUsersTotalCountAT | toggleIsFetchingAT | toggleIsFollowingProgressAT\r\ntype InitialState = typeof initialState;\r\nexport type UserType = {\r\n    name: string\r\n    id: number\r\n    followed: boolean\r\n    uniqueUrLName: null\r\n    status: string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n}\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as number[]\r\n}\r\n\r\n\r\nconst userReducer = (state: InitialState = initialState, action: UsersReducerAT): InitialState => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        }\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n\r\n            }\r\n        }\r\n        case SET_USERS_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const acceptFollow = (userID: number): followAT => {\r\n    return {\r\n        type: FOLLOW,\r\n        userID: userID\r\n    }\r\n}\r\nexport const acceptUnfollow = (userID: number): unfollowAT => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userID: userID\r\n    }\r\n}\r\nexport const setUsers = (users: Array<UserType>): setUsersAT => {\r\n    return {\r\n        type: SET_USERS,\r\n        users: users\r\n    }\r\n}\r\nexport const setCurrentPage = (page: number): setCurrentPageAT => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage: page\r\n    }\r\n}\r\nexport const setUsersTotalCount = (count: number): setUsersTotalCountAT => {\r\n    return {\r\n        type: SET_USERS_TOTAL_COUNT,\r\n        count: count\r\n    }\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): toggleIsFetchingAT => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching: isFetching\r\n    }\r\n}\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): toggleIsFollowingProgressAT => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching, userId\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch, userId: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingProgress(false, userId))\r\n\r\n}\r\nexport const getUsers = (page: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let response = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.data.items))\r\n    dispatch(setUsersTotalCount(response.data.totalCount))\r\n\r\n}\r\nexport const unfollowTC = (userId: number) => async (dispatch: Dispatch) => {\r\n    const apiMethod = usersAPI.unfollow.bind(usersAPI)\r\n    const actionCreator = acceptUnfollow\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n}\r\nexport const followTC = (userId: number) => async (dispatch: Dispatch) => {\r\n    const apiMethod = usersAPI.follow.bind(usersAPI)\r\n    const actionCreator = acceptFollow\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n}\r\nexport default userReducer;","import React, {useState} from 'react';\r\nimport s from './Paginator.module.css'\r\n\r\nexport type PaginatorType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    onPageChanged: (p: number) => void\r\n    currentPage: number\r\n    portionSize: number\r\n}\r\nexport const Paginator = (props: PaginatorType) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * props.portionSize\r\n\r\n\r\n    return <div className={s.paginator}>\r\n\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</button>\r\n        }\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span\r\n                    className={props.currentPage === p ? s.selectedPage : ''}\r\n                    onClick={(e) => {\r\n                        props.onPageChanged(p)\r\n                    }}\r\n                >{p} </span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>\r\n        }\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/ava.d1a7f492.png\";","import React from 'react';\r\nimport userPhoto from \"../../asets/images/ava.png\";\r\nimport {UserType} from \"../redux/user-reducer\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    unfollow: (userID: number) => void\r\n    follow: (userID: number) => void\r\n    followingInProgress: number[]\r\n}\r\n\r\nexport const User = ({user, ...props}: UserPropsType) => {\r\n    return <div key={user.id}>\r\n                <span><div>\r\n                <NavLink to={\"/profile/\" + user.id}>\r\n                    <img src={user.photos.small ? user.photos.small : userPhoto} style={{maxWidth: '100px'}} className={\"userPhoto\"}/></NavLink>\r\n                <div>\r\n                    {user.followed ?\r\n                        <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.unfollow(user.id)\r\n                        }}>Unfollow</button>\r\n                        :\r\n                        <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.follow(user.id)\r\n\r\n                        }}>Follow</button>}\r\n                    </div>\r\n            </div></span>\r\n                <span>\r\n                <div>{user.name}</div><div>{user.status}</div>\r\n            </span>\r\n            </div>\r\n        }\r\n\r\n\r\n","import React from 'react';\r\nimport {UserType} from \"../redux/user-reducer\";\r\nimport {Paginator} from \"../Common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\n\r\ntype UsersFunc = {\r\n    users: Array<UserType>\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    unfollow: (userID: number) => void\r\n    follow: (userID: number) => void\r\n    onPageChanged: (p: number) => void\r\n    followingInProgress: number[]\r\n}\r\n\r\nexport const Users = (props: UsersFunc) => {\r\n    return <div>\r\n        <Paginator currentPage={props.currentPage}\r\n                   onPageChanged={props.onPageChanged}\r\n                   pageSize={props.pageSize}\r\n                   totalUsersCount={props.totalUsersCount}\r\n                   portionSize={10}/>\r\n        <div>\r\n            {\r\n                props.users.map(u => <User user={u} followingInProgress={props.followingInProgress}\r\n                                           follow={props.follow} unfollow={props.unfollow}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n\r\n\r\n}","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getIsFetching = (state: AppStateType) => state.usersPage.isFetching\r\n\r\nconst getUsers = (state: AppStateType) => state.usersPage.users\r\nexport const getUsersSuperSelector = createSelector(getUsers,getIsFetching, (users, isFetching) => users.filter(u => true))\r\n\r\nexport const gePageSize = (state: AppStateType) => state.usersPage.pageSize\r\nexport const getTotalUsersCount = (state: AppStateType) => state.usersPage.totalUsersCount\r\nexport const getCurrentPage = (state: AppStateType) => state.usersPage.currentPage\r\nexport const getFollowingInProgress = (state: AppStateType) => state.usersPage.followingInProgress","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport {\r\n    UserType, followTC, unfollowTC, getUsers\r\n} from \"../redux/user-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    gePageSize,\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getTotalUsersCount,\r\n    getUsersSuperSelector,\r\n} from \"../redux/users-selectores\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\ntype MapDispatchPropsType = {\r\n    follow: (userID: number) => void\r\n    unfollow: (userID: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersPropsType = MapDispatchPropsType & MapStatePropsType\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage} users={this.props.users}\r\n                   follow={this.props.follow} unfollow={this.props.unfollow}\r\n                   onPageChanged={this.onPageChanged} followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        // users: getUsers(state),\r\n        users: getUsersSuperSelector(state),\r\n        pageSize: gePageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow: followTC,\r\n            unfollow: unfollowTC, getUsers\r\n        }))(UsersContainer)\r\n\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\ntype HeaderType = {\r\n    isAuth: boolean\r\n    isFetching: boolean\r\n    data: {\r\n        id: number | null\r\n        email: string | null\r\n        login: string | null\r\n    },\r\n    logout:()=>void\r\n}\r\nconst Header = (props: HeaderType) => {\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src='https://cdn.logo.com/hotlink-ok/logo-social.png'/>\r\n            <div className={classes.login_block}>\r\n                {props.isAuth ?\r\n                 <div>   {props.data.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n                } </div>\r\n        </header>)\r\n}\r\nexport default Header;","import {authAPI, LoginDataRequestType, securityAPI} from \"../../api/Api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL'\r\nconst SET_LOGIN_ERROR = 'auth/SET_LOGIN_ERROR'\r\n\r\ntype setLoginErrorAT = {\r\n    type: typeof SET_LOGIN_ERROR\r\n    loginError: null | string\r\n}\r\ntype getCaptchaUrlAT = {\r\n    type: typeof GET_CAPTCHA_URL\r\n    captchaURL: null | string\r\n}\r\ntype setUserAT = {\r\n    type: typeof SET_USER_DATA\r\n    data: {\r\n        id: number | null,\r\n        email: string | null,\r\n        login: string | null,\r\n        isAuth: boolean\r\n    }\r\n    resultCode?: number\r\n    messages?: Array<string>\r\n}\r\n\r\n\r\nexport type AuthReducerType = {\r\n    isFetching: boolean\r\n    data: {\r\n        id: null | number\r\n        email: null | string\r\n        login: null | string\r\n        isAuth: boolean\r\n    }\r\n    appInitialized: boolean\r\n    loginError: null | string\r\n    captchaURL: string | null\r\n\r\n}\r\nlet initialState: AuthReducerType = {\r\n    isFetching: false,\r\n    data: {\r\n        id: null,\r\n        email: null,\r\n        login: null,\r\n        isAuth: false\r\n    },\r\n    appInitialized: false,\r\n    loginError: null,\r\n    captchaURL: null\r\n}\r\n\r\n\r\nconst authReducer = (state: AuthReducerType = initialState, action: ActionsType): AuthReducerType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                data: action.data,\r\n                loginError: null\r\n            }\r\n        }\r\n        case SET_LOGIN_ERROR: {\r\n            return {\r\n                ...state,\r\n                loginError: action.loginError\r\n            }\r\n        }\r\n        case GET_CAPTCHA_URL: {\r\n            return {\r\n                ...state,\r\n                captchaURL: action.captchaURL\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const setUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean): setUserAT => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {\r\n            id,\r\n            email,\r\n            login,\r\n            isAuth\r\n        }\r\n    }\r\n}\r\nexport const setLoginError = (loginError: string): setLoginErrorAT => {\r\n    return {\r\n        type: SET_LOGIN_ERROR, loginError\r\n    }\r\n}\r\nexport const getCaptchaURLAC = (captchaURL: string | null): getCaptchaUrlAT => {\r\n    return {\r\n        type: GET_CAPTCHA_URL, captchaURL\r\n    }\r\n}\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setUserData(id, login, email, true));\r\n    }\r\n}\r\n\r\nexport const login = (data: LoginDataRequestType) => async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n    let response = await authAPI.login(data)\r\n    console.log('login ===>')\r\n    if (response.data.resultCode === 0) {\r\n        await dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            await dispatch(getCaptchaURL());\r\n        }\r\n        const message = response.data.messages.length > 0 ? response.data.messages[0] : 'email or password is wrong'\r\n        dispatch(setLoginError(message))\r\n    }\r\n}\r\nexport const logout = () => async (dispatch: Dispatch<ActionsType>) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n}\r\nexport const getCaptchaURL = () => async (dispatch: Dispatch<ActionsType>) => {\r\n    let response = await securityAPI.getCaptchaURL()\r\n    dispatch(getCaptchaURLAC(response.data.url))\r\n}\r\n\r\ntype ActionsType = setUserAT | setLoginErrorAT | getCaptchaUrlAT\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport {logout} from \"../redux/auth-reducer\";\r\n\r\ntype MapDispatchToProps = {\r\n  //  getAuthUserData:()=>void,\r\n    logout:()=>void\r\n}\r\n\r\ntype MapStateToProps = {\r\n    isAuth: boolean\r\n    data: { id: number | null, email: string | null, login: string | null }\r\n    isFetching: boolean\r\n\r\n}\r\ntype HeaderContainerProps = MapStateToProps & MapDispatchToProps\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerProps, MapStateToProps> {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Header isFetching={this.props.isFetching} data={this.props.data} isAuth={this.props.isAuth} logout={this.props.logout}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.data.isAuth,\r\n    data: state.auth.data,\r\n    isFetching: state.auth.isFetching\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    logout\r\n})(HeaderContainer);","import {Field, Form} from \"react-final-form\";\r\nimport {Input} from \"../Common/FormsControls/FormControls\";\r\nimport {requiredField} from \"../../utils/validators/Validator\";\r\nimport React from \"react\";\r\nimport {LoginDataRequestType} from \"../../api/Api\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport s from '../Common/FormsControls/FormControls.module.css'\r\n\r\n\r\ntype LoginFormType = {\r\n    login: (formData: LoginDataRequestType) => void\r\n    getCaptchaURL: (CaptchaURL: string | null) => void\r\n}\r\n\r\nexport const LoginForm = ({login}: LoginFormType) => {\r\n    const captchaUrl = useSelector<AppStateType, string | null>(state => state.auth.captchaURL)\r\n\r\n    const error = useSelector<AppStateType, null | string>(state => state.auth.loginError)\r\n    const onSubmit = (formData: LoginDataRequestType) => {\r\n        login(formData)\r\n    }\r\n    return (\r\n        <Form onSubmit={onSubmit}\r\n              render={({handleSubmit}) => (\r\n                  <form onSubmit={handleSubmit}>\r\n                      <div>\r\n                          <Field name=\"email\" component={Input}\r\n                                 validate={requiredField}\r\n                                 placeholder=\"email\"/>\r\n                      </div>\r\n                      <div>\r\n                          <Field name=\"password\"\r\n                                 validate={requiredField}\r\n                                 type={'password'}\r\n                                 component={Input} placeholder=\"password\"/>\r\n                      </div>\r\n                      <div>\r\n                          <label>\r\n                              <Field\r\n                                  name=\"rememberMe\"\r\n                                  component={Input}\r\n                                  type=\"checkbox\"\r\n                              />\r\n                              remember me\r\n                          </label>\r\n                      </div>\r\n                      {captchaUrl && <img src={captchaUrl}/>}\r\n                      {captchaUrl &&\r\n                      <div>\r\n                          <Field\r\n                              name=\"captcha\"\r\n                              component={Input}\r\n                              validate={requiredField}\r\n                          />\r\n                      </div>}\r\n                      {error && <div className={s.error}>{error}</div>}\r\n                      <button type=\"submit\">Submit</button>\r\n                  </form>\r\n              )}\r\n        />\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {LoginForm} from \"./LoginForm\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport {getCaptchaURL, login} from \"../redux/auth-reducer\";\r\nimport {LoginDataRequestType} from \"../../api/Api\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\ntype MapDispatchPropsType = {\r\n    login: (data: LoginDataRequestType) => void\r\n}\r\ntype OwnPropsType = MapDispatchPropsType\r\n\r\nconst Login = (props: OwnPropsType) => {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.data.isAuth)\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <>\r\n        <h1>Login</h1>\r\n        <LoginForm login={props.login} getCaptchaURL={getCaptchaURL}/>\r\n    </>\r\n}\r\n\r\nexport default connect(null, {login, getCaptchaURL})(Login)\r\n\r\n","import {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nexport type setInitializedAT = {\r\n    type: typeof SET_INITIALIZED\r\n}\r\n\r\n\r\nexport type AppReducerType = {\r\n    initialized: boolean\r\n}\r\nlet initialState: AppReducerType = {\r\n    initialized: false\r\n}\r\n\r\n\r\nexport const appReducer = (state: AppReducerType = initialState, action: ActionsType): AppReducerType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const setInitialized = (): setInitializedAT => {\r\n    return {\r\n        type: SET_INITIALIZED,\r\n    }\r\n}\r\n\r\nexport const initializeApp = () => (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n   let promise =  dispatch(getAuthUserData())\r\n\r\n       Promise.all([promise]).then(()=>{\r\n        dispatch(setInitialized())\r\n    })\r\n}\r\n\r\n\r\n\r\ntype ActionsType = setInitializedAT","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReduser from \"./profile-reducer\";\r\nimport dialogsReduser from \"./dialogs-reducer\";\r\nimport userReducer from \"./user-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware  from 'redux-thunk'\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers(\r\n    {\r\n\r\n        profilePage: profileReduser,\r\n        messagesPage: dialogsReduser,\r\n        usersPage: userReducer,\r\n        auth: authReducer,\r\n        app: appReducer\r\n    }\r\n);\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nlet store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;","import React, {ComponentType, Suspense} from \"react\";\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\n\r\nexport function withSuspense<T>(Component: ComponentType<T>){\r\n    return (props: any)=>{\r\n        return <Suspense fallback={<Preloader/>}>\r\n         <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {HashRouter, Route, withRouter} from 'react-router-dom';\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./components/redux/app-reducer\";\r\nimport store, {AppStateType} from \"./components/redux/redux-store\";\r\nimport {Preloader} from \"./components/Common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./components/hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import( \"./components/Dialogs/DialogsContainer\"))\r\nconst ProfileContainer = React.lazy(() => import( './components/Content/ProfileContainer'))\r\n\r\nclass App extends React.Component<AppContainerProps> {\r\n    catchAllUnhandledError = (promiseRejectionEvent: PromiseRejectionEvent) => {\r\n        // draw beautiful alert with global error in app-reducer + timeout(delete error)\r\n        alert(\"Some error occurred : \" + promiseRejectionEvent)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledError);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledError)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className=\"app-wrapper-content\">\r\n                    <Route path=\"/dialogs\"\r\n                           render={withSuspense(DialogsContainer)}/>\r\n                    <Route path=\"/profile/:userId?\"\r\n                           render={withSuspense(ProfileContainer)}/>\r\n                    <Route path=\"/users\"\r\n                           render={() => <UsersContainer/>}/>\r\n                    <Route path=\"/login\"\r\n                           render={() => <Login/>}/>\r\n                    <Route path=\"*\"\r\n                           render={() => <div>404 NOT FOUND</div>}/>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet MapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\n\r\ntype MapDispatchToProps = {\r\n    initializeApp: () => void\r\n}\r\ntype MapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\ntype AppContainerProps = MapDispatchToProps & MapStateToPropsType\r\n\r\n\r\nlet AppContainer = compose<React.ComponentType>(withRouter, connect(MapStateToProps, {initializeApp}))(App);\r\nexport const SamuraiJSApp = (props: any) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {SamuraiJSApp} from './App';\r\n\r\n\r\nReactDOM.render(<SamuraiJSApp/>, document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}