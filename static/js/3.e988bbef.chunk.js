(this.webpackJsonpkabzda_npm=this.webpackJsonpkabzda_npm||[]).push([[3],{95:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var o=s(2),r=s(39),c=s(5),n=(s(0),s(12)),i=s(1),a=function(e){return{isAuth:e.auth.data.isAuth}};function u(e){return Object(n.b)(a)((function(t){var s=Object(o.a)({},t),n=(s.isAuth,Object(r.a)(s,["isAuth"]));return t.isAuth?Object(i.jsx)(e,Object(o.a)({},n)):Object(i.jsx)(c.a,{to:"/login"})}))}},96:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__8k8f8",userPhoto:"ProfileInfo_userPhoto__2LImh",contact:"ProfileInfo_contact__30pdJ",error:"ProfileInfo_error__x9ZCy"}},97:function(e,t,s){e.exports={postBlock:"MyPosts_postBlock__QGgfc",posts:"MyPosts_posts__3YrLI"}},98:function(e,t,s){e.exports={item:"Post_item__3EH5P"}},99:function(e,t,s){"use strict";s.r(t);var o=s(2),r=s(18),c=s(19),n=s(22),i=s(21),a=s(0),u=s.n(a),l=s(41),j=s(23),b=s.p+"static/media/userWithoutAvatar.6b27f4a4.jpg",d=s(1),p=function(e){var t=Object(a.useState)(!1),s=Object(l.a)(t,2),o=s[0],r=s[1],c=Object(a.useState)(e.status),n=Object(l.a)(c,2),i=n[0],u=n[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(d.jsx)("b",{children:o?Object(d.jsx)("div",{children:Object(d.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:i,onBlur:function(){return r(!1),void e.updateUserStatus(i)}})}):Object(d.jsx)("div",{children:Object(d.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"no status"})})})},f=s(96),h=s.n(f),O=s(24),x=s(25),m=s(12),v=function(e){var t=Object(m.c)((function(e){return e.profilePage.errorDataForm}));return Object(d.jsx)(O.b,{onSubmit:e.onSubmit,render:function(s){var r=s.handleSubmit;return Object(d.jsxs)("form",{onSubmit:r,children:[Object(d.jsx)("button",{type:"submit",children:"save"}),t&&Object(d.jsx)("div",{className:h.a.error,children:t}),Object(d.jsx)(O.a,{name:"fullName",defaultValue:e.profile.fullName,children:function(t){var s=t.input;return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:Object(d.jsx)("b",{children:"Full name "})}),Object(d.jsx)("input",Object(o.a)(Object(o.a)({},s),{},{type:"text",placeholder:e.profile.fullName}))]})}}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Looking for a job"}),": ",Object(d.jsx)(O.a,{name:"lookingForAJob",component:x.a,type:"checkbox",defaultValue:e.profile.lookingForAJob,placeholder:e.profile.lookingForAJob?"yes":"no"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"My professional skills"}),": ",Object(d.jsx)(O.a,{name:"lookingForAJobDescription",component:x.a,defaultValue:e.profile.lookingForAJobDescription,placeholder:e.profile.lookingForAJobDescription})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About me"}),": ",Object(d.jsx)(O.a,{name:"aboutMe",component:x.a,defaultValue:e.profile.aboutMe,placeholder:e.profile.aboutMe})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts"})," :",Object.keys(e.profile.contacts).map((function(t){return Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:t})," : ",Object(d.jsx)(O.a,{name:"contacts.".concat(t),component:x.a,defaultValue:e.profile.contacts[t],placeholder:e.profile.contacts[t]})]},t)}))]})]})}})},g=function(e){var t=e.profile,s=e.setEditMode;e.isOwner;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:function(){s&&s(!0)},children:"Edit Profile"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts"})," : ",Object.keys(t.contacts).map((function(e){return Object(d.jsx)(P,{contactTitle:e,contactValue:t.contacts[e]})}))]})]})},P=function(e){var t=e.contactTitle,s=e.contactValue;return Object(d.jsxs)("div",{className:h.a.contact,children:[Object(d.jsx)("b",{children:t})," : ",s]})},k=function(e){var t=Object(a.useState)(!1),s=Object(l.a)(t,2),o=s[0],r=s[1];if(!e.profile)return Object(d.jsx)(j.a,{});return Object(d.jsxs)("div",{className:h.a.descriptionBlock,children:[Object(d.jsx)("img",{src:e.profile.photos.large||b,className:h.a.userPhoto}),e.isOwner&&Object(d.jsx)("input",{type:"file",onChange:function(t){t.target.files&&e.savePhoto(t.target.files[0])}}),Object(d.jsx)(p,{status:e.status,updateUserStatus:e.updateUserStatus}),o?Object(d.jsx)(v,{profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))}}):Object(d.jsx)(g,{profile:e.profile,isOwner:e.isOwner,setEditMode:r})]})},_=s(40),y=s(39),S=s(97),A=s.n(S),w=s(98),U=s.n(w),F=function(e){return Object(d.jsxs)("div",{className:U.a.item,children:[Object(d.jsx)("img",{src:"https://png.pngtree.com/element_our/20190530/ourlarge/pngtree-520-couple-avatar-boy-avatar-little-dinosaur-cartoon-cute-image_1263411.jpg"}),e.message,Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"like "})," ",e.likes]})]})},D=s(30),I=u.a.memo((function(e){var t=e.postsData.map((function(e){return Object(d.jsx)(F,{message:e.message,likes:e.likes})}));return Object(d.jsxs)("div",{className:A.a.postBlock,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsxs)("div",{children:[Object(d.jsx)(M,{addPost:function(t){var s=t.newPostText;Object(y.a)(t,["newPostText"]);e.addPost(s)},required:D.c}),Object(d.jsx)("div",{className:A.a.posts,children:t})]})]})})),J=Object(D.b)(10),M=function(e){var t=e.addPost,s=e.required;Object(y.a)(e,["addPost","required"]);return Object(d.jsx)(O.b,{onSubmit:t,render:function(e){var t=e.handleSubmit;return Object(d.jsxs)("form",{onSubmit:t,children:[Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{name:"newPostText",component:x.b,placeholder:"Enter your post",validate:Object(D.a)(s,J)})}),Object(d.jsx)("button",{type:"submit",children:"Submit"})]})}})},N=I,B=Object(m.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(_.a)(t))}}}))(N),V=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:"https://www.tripsavvy.com/thmb/FwmQ-JvBEBDDlVb-j_zdEo0iVsA=/2048x1152/smart/filters:no_upscale()/beach-5b59c9b7c9e77c004b3e0ff0.jpg"})}),Object(d.jsx)(k,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,saveProfile:e.saveProfile}),Object(d.jsx)(B,{})]})},C=s(5),E=s(95),T=s(16),z=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;if(!e){if(!this.props.authorizedUserId)return Object(d.jsx)(C.a,{to:"/login"});e=this.props.authorizedUserId}this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(d.jsx)(V,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),s}(u.a.Component);t.default=Object(T.compose)(Object(m.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.data.id,isAuth:e.auth.data.isAuth}}),{getUserProfile:_.c,getUserStatus:_.d,updateUserStatus:_.g,savePhoto:_.e,saveProfile:_.f}),C.f,E.a)(z)}}]);
//# sourceMappingURL=3.e988bbef.chunk.js.map